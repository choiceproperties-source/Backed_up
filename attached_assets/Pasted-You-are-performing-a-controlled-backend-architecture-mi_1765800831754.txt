You are performing a controlled backend architecture migration.

STRICT RULES (DO NOT VIOLATE):
- You must follow MIGRATION.md exactly.
- You must migrate ONLY the Properties domain.
- Do NOT touch Applications, Payments, Admin, or Auth.
- Do NOT delete or modify legacy routes in server/routes.ts.
- Do NOT rename any API endpoints.
- Do NOT change request or response shapes.
- Do NOT modify database schemas or tables.
- Do NOT refactor frontend code.
- Behavior must remain 100% identical.

TASK:
Migrate the Properties domain from the legacy server/routes.ts into a domain-based module located at:

server/modules/properties/

You must create the following files:
- property.routes.ts
- property.service.ts
- property.repository.ts

RESPONSIBILITIES:
1. property.routes.ts
- Register ONLY property-related routes.
- Perform request parsing, auth middleware usage, and response formatting.
- NO business logic.
- NO database queries.

2. property.service.ts
- Contain ALL business logic related to properties.
- Handle validation, permissions, transformations, and rules.
- Call repository functions for data access.
- Logic must be equivalent to legacy behavior.

3. property.repository.ts
- Contain ALL database queries related to properties.
- Queries must match legacy behavior exactly.
- Do NOT optimize or change logic.
- Preserve current query patterns, even if inefficient.

MIGRATION STEPS:
1. Locate ALL property-related routes in server/routes.ts.
2. Copy their logic without modification.
3. Extract database access into property.repository.ts.
4. Extract business logic into property.service.ts.
5. Wire routes to services.
6. Register the new routes WITHOUT removing legacy routes.
7. Ensure both legacy and new routes can coexist.

ROUTES TO MIGRATE:
- GET /api/properties
- GET /api/properties/:id
- POST /api/properties
- PATCH /api/properties/:id
- DELETE /api/properties/:id
- POST /api/properties/:id/view
- GET /api/properties/search
- GET /api/properties/featured

VERIFICATION REQUIREMENTS:
- Responses must match legacy routes exactly.
- Permissions must behave identically.
- Error messages must match legacy behavior.
- Logging behavior must remain unchanged.
- No new dependencies added.

DELIVERABLES:
- Create the three files listed above.
- Show code for each file.
- Show how the new routes are registered in the server.
- Do NOT delete any legacy code.
- Do NOT touch other domains.

STOP CONDITIONS:
If anything is ambiguous or unclear, STOP and ask before proceeding.